{"version":3,"sources":["components/Modal/Modal.module.css","components/Searchbar/Searchbar.module.css","components/ImageGallery/ImageGalleryItem/ImageGalleryItem.module.css","components/Button/Button.module.css","components/App/App.module.css","components/SearchForm/SearchForm.module.css","components/Searchbar/Searchbar.js","components/SearchForm/SearchForm.js","components/ImageGallery/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Spinner/Spinner.js","components/Modal/Modal.js","services/gallery-api.js","components/App/App.js","index.js","components/ImageGallery/ImageGallery.module.css"],"names":["module","exports","Searchbar","children","className","styles","searchbar","SearchForm","state","query","handleChange","e","setState","currentTarget","value","handleSubmit","preventDefault","props","onSubmit","search_form","this","type","search_form_btn","search_form_btn_label","search_form_input","onChange","autoComplete","autoFocus","placeholder","Component","ImageGalleryItem","smallImgURL","tag","image_gallery_item_img","src","alt","ImageGallery","images","onClick","image_gallery","map","id","webformatURL","largeImageURL","tags","image_gallery_item","key","Button","button","Spinner","color","height","width","timeout","modalRoot","document","querySelector","Modal","handleKeyDown","code","handleBackdropClick","target","window","addEventListener","removeEventListener","createPortal","overlay","modal","searchQuery","currentPage","axios","get","then","response","data","hits","App","isLoading","error","showModal","selectedImage","onChangeQuery","fetchImages","galleryApi","prevState","scrollPage","catch","finally","onOpenModal","onCloseModal","length","scrollTo","top","documentElement","scrollHeight","behavior","prevProps","shouldRenderLoadMoreBtn","app","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.0ab72fb6.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__QJZ03\",\"modal\":\"Modal_modal__3y_SC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__3ZYNC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"image_gallery_item_img\":\"ImageGalleryItem_image_gallery_item_img__1jPmB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__1AQ_G\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__3__cU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"search_form\":\"SearchForm_search_form__2ys0m\",\"search_form_btn\":\"SearchForm_search_form_btn__3mhNV\",\"search_form_btn_label\":\"SearchForm_search_form_btn_label__2koV0\",\"search_form_input\":\"SearchForm_search_form_input__XqfgK\"};","import React from 'react';\nimport styles from './Searchbar.module.css';\n\nconst Searchbar = ({ children }) => (\n  <header className={styles.searchbar}>{children}</header>\n);\n\nexport default Searchbar;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './SearchForm.module.css';\n\nclass SearchForm extends Component {\n  state = {\n    query: '',\n  };\n\n  handleChange = e => {\n    this.setState({ query: e.currentTarget.value });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n\n    this.props.onSubmit(this.state.query);\n    this.setState({ query: '' });\n  };\n\n  render() {\n    return (\n      <form className={styles.search_form} onSubmit={this.handleSubmit}>\n        <button type=\"submit\" className={styles.search_form_btn}>\n          <span className={styles.search_form_btn_label}>Search</span>\n        </button>\n\n        <input\n          className={styles.search_form_input}\n          onChange={this.handleChange}\n          value={this.state.query}\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search images and photos\"\n        />\n      </form>\n    );\n  }\n}\n\nSearchForm.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n\nexport default SearchForm;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './ImageGalleryItem.module.css';\n\nconst ImageGalleryItem = ({ smallImgURL, tag }) => (\n  <img className={styles.image_gallery_item_img} src={smallImgURL} alt={tag} />\n);\n\nImageGalleryItem.propTypes = {\n  smallImgURL: PropTypes.string.isRequired,\n  tag: PropTypes.string.isRequired,\n};\n\nexport default ImageGalleryItem;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport ImageGalleryItem from './ImageGalleryItem';\nimport styles from './ImageGallery.module.css';\n\nconst ImageGallery = ({ images, onClick }) => (\n  <ul className={styles.image_gallery}>\n    {images.map(({ id, webformatURL, largeImageURL, tags }) => (\n      <li\n        className={styles.image_gallery_item}\n        key={id}\n        onClick={() => onClick(largeImageURL)}\n      >\n        <ImageGalleryItem smallImgURL={webformatURL} tag={tags} />\n      </li>\n    ))}\n  </ul>\n);\n\nImageGallery.propTypes = {\n  images: PropTypes.array.isRequired,\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default ImageGallery;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Button.module.css';\n\nconst Button = ({ onClick }) => (\n  <button className={styles.button} onClick={onClick}>\n    Load more\n  </button>\n);\n\nButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default Button;\n","import React from 'react';\nimport Loader from 'react-loader-spinner';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\n\nconst Spinner = () => (\n  <Loader\n    type=\"ThreeDots\"\n    color=\"#00BFFF\"\n    height={80}\n    width={80}\n    timeout={3000}\n  />\n);\n\nexport default Spinner;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { createPortal } from 'react-dom';\nimport styles from './Modal.module.css';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nclass Modal extends Component {\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyDown);\n  }\n\n  handleKeyDown = e => {\n    if (e.code === 'Escape') {\n      this.props.onClick();\n    }\n  };\n\n  handleBackdropClick = e => {\n    if (e.target === e.currentTarget) {\n      this.props.onClick();\n    }\n  };\n\n  render() {\n    return createPortal(\n      <div className={styles.overlay} onClick={this.handleBackdropClick}>\n        <div className={styles.modal}>{this.props.children}</div>\n      </div>,\n      modalRoot,\n    );\n  }\n}\n\nModal.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default Modal;\n","import axios from 'axios';\nconst key = '16241946-e1ddd5a0e4c82215e760a7728';\n\nconst fetchImages = (searchQuery = '', currentPage = 1) => {\n  return axios\n    .get(\n      `https://pixabay.com/api/?q=${searchQuery}&page=${currentPage}&key=${key}&image_type=photo&orientation=horizontal&per_page=12`,\n    )\n    .then(response => response.data.hits);\n};\n\nexport default { fetchImages };\n","import React, { Component } from 'react';\nimport Searchbar from '../Searchbar';\nimport SearchForm from '../SearchForm';\nimport ImageGallery from '../ImageGallery';\nimport Button from '../Button';\nimport Spinner from '../Spinner';\nimport Modal from '../Modal';\nimport galleryApi from '../../services/gallery-api';\nimport styles from './App.module.css';\n\nclass App extends Component {\n  state = {\n    images: [],\n    currentPage: 1,\n    searchQuery: '',\n    isLoading: false,\n    error: null,\n    showModal: false,\n    selectedImage: '',\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.state.searchQuery !== prevState.searchQuery) {\n      this.fetchImages();\n    }\n  }\n\n  onChangeQuery = query => {\n    this.setState({\n      searchQuery: query,\n      images: [],\n      currentPage: 1,\n      error: null,\n    });\n  };\n\n  fetchImages = () => {\n    const { searchQuery, currentPage } = this.state;\n\n    this.setState({ isLoading: true });\n\n    galleryApi\n      .fetchImages(searchQuery, currentPage)\n      .then(hits => {\n        this.setState(prevState => ({\n          images: [...prevState.images, ...hits],\n          currentPage: prevState.currentPage + 1,\n        }));\n\n        this.scrollPage();\n      })\n      .catch(error => this.setState({ error }))\n      .finally(() => this.setState({ isLoading: false }));\n  };\n\n  onOpenModal = largeImageURL => {\n    this.setState({ showModal: true, selectedImage: largeImageURL });\n  };\n\n  onCloseModal = () => {\n    this.setState({ showModal: false, selectedImage: '' });\n  };\n\n  scrollPage = () => {\n    if (this.state.images.length > 12) {\n      window.scrollTo({\n        top: document.documentElement.scrollHeight,\n        behavior: 'smooth',\n      });\n    }\n  };\n\n  render() {\n    const { images, isLoading, error, showModal, selectedImage } = this.state;\n    const shouldRenderLoadMoreBtn = images.length > 0 && !isLoading;\n\n    return (\n      <div className={styles.app}>\n        <Searchbar>\n          <SearchForm onSubmit={this.onChangeQuery} />\n        </Searchbar>\n\n        {error && <h1>Oops!!! Something went wrong :(</h1>}\n\n        <ImageGallery images={images} onClick={this.onOpenModal} />\n\n        {isLoading && <Spinner />}\n\n        {shouldRenderLoadMoreBtn && <Button onClick={this.fetchImages} />}\n\n        {showModal && (\n          <Modal onClick={this.onCloseModal}>\n            <img src={selectedImage} alt=\"\" />\n          </Modal>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport 'modern-normalize/modern-normalize.css';\nimport './styles.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"image_gallery\":\"ImageGallery_image_gallery__2ntui\",\"image_gallery_item\":\"ImageGallery_image_gallery_item__1143m\"};"],"sourceRoot":""}